# PostgreSQL Configuration
POSTGRES_USER=filerunner
POSTGRES_PASSWORD=filerunner_password
POSTGRES_DB=filerunner

# Backend Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-min-32-chars
SERVER_PORT=8000
SERVER_HOST=0.0.0.0
STORAGE_PATH=/app/storage
MAX_FILE_SIZE=104857600
ALLOW_SIGNUP=true

# Admin User (created on first startup)
# NOTE: Admin must change password on first login (forced password change)
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=admin

# Database Connection Pool
# Adjust based on expected load - production recommendation: min=5, max=20
DB_MIN_CONNECTIONS=2
DB_MAX_CONNECTIONS=10

# Logging
RUST_LOG=info,filerunner_backend=debug

# =============================================================================
# HTTP Deployment (docker-compose.yml)
# =============================================================================
# Access at: http://localhost/
CORS_ORIGINS=http://localhost
# API_URL is read at runtime (not build time), so you can change it without rebuilding
API_URL=http://localhost:8000/api

# =============================================================================
# Subpath Deployment (Optional)
# =============================================================================
# Set this if you want to deploy the frontend under a subpath (e.g., /filerunner)
# NOTE: This is a BUILD-TIME variable - you must rebuild the image when changing it
# Leave empty for root path deployments
# NEXT_PUBLIC_BASE_PATH=/filerunner

# =============================================================================
# HTTPS Deployment (docker-compose.ssl.yml)
# =============================================================================
# Uncomment and configure these for HTTPS deployment:

# Your domain name (required for SSL)
# DOMAIN=files.example.com

# Email for Let's Encrypt certificate notifications
# LETSENCRYPT_EMAIL=admin@example.com

# Traefik dashboard authentication (optional)
# Generate with: htpasswd -nb admin yourpassword
# Note: Escape $ as $$ in docker-compose
# TRAEFIK_DASHBOARD_AUTH=admin:$$apr1$$xyz...

# For HTTPS, update these:
# CORS_ORIGINS=https://files.example.com
# API_URL=https://files.example.com/api
